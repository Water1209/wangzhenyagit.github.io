---
layout: post
title: Redis（二）5种数据结构(TODO)
category: 存储系统
tags: 
---

## OverView ##

> Redis is an open-source in-memory database project implementing a distributed, in-memory key-value store with optional durability. Redis supports different kinds of abstract data structures, such as strings, lists, maps, sets, sorted sets, hyperloglogs, bitmaps and spatial indexes.

上面是wiki上的Redis的介绍，可以看出，使用场景主要还是in-memory的，持久化只是个optional的。而且支持的数据类型不只是Redis In Action中的几个，随着Redis的进化，除了基本的5个类型string、map、set、sorted set、list还有其他的结构如hyperloglogs、spatial indexes、bitmaps。

> - Strings
> - Lists of strings
> - Sets of strings (collections of non-repeating unsorted elements)
> - Sorted sets of strings (collections of non-repeating elements ordered by a floating-point number called score)
> - Hash tables where keys and values are strings
> HyperLogLogs used for approximated set cardinality size estimation.
> - Geospatial data through the implementation of the geohash technique since Redis 3.2.

hyperloglogs是个算法，用于近似（不是精确）计算在multiset中的不同元素的个数的。类似的Bloomfilter结构也是近似的算法，这种算法一般是在特定的场景下，牺牲一定的准确性，但是能够大大提高空间和时间的复杂度。

> HyperLogLog is an algorithm for the count-distinct problem, approximating the number of distinct elements in a multiset.

Spatial indices支持的数据库其实很多，如Mysql、ES、Mongodb，在基于空间的搜索上能够大大提高检索速度。

> Spatial indices are used by spatial databases (databases which store information related to objects in space) to optimize spatial queries. Conventional index types do not efficiently handle spatial queries such as how far two points differ, or whether points fall within a spatial area of interest.

## string ##

操作很简单，set，get，del。有点像程序中的全局变量，大型的程序，慎用。

## list ##
作为一个key-value的数据库，支持这list有点奇怪。但这也是Redis一个非常有用的特性，用处也很广。而且用法和编程中的list很像，支持基础的操作如：

- RPUSH	将给定值推入到列表的右端  
- LRANGE	获取列表在给定范围上的所有值  
- LINDEX	获取列表在给定位置上的单个元素  
- LPOP	从列表的左端弹出一个值，并返回被弹出的值

此外还有一些高级的命令，比如从列表里面移除元素的命令、将元素插入到列表中间的命令、将列表修剪至指定长度（相当于从列表的其中一端或者两端移除元素）的命令。

## set ##
